<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redundant Connection</title>
</head>

<body>
    <script>
        function findRedundantConnection(edges) {
            const parent = new Array(edges.length + 1);
            const size = new Array(edges.length + 1).fill(1);

            // Initialize each node to be its own parent
            for (let i = 1; i <= edges.length; i++) {
                parent[i] = i;
            }

            const find = (x) => {
                while (x !== parent[x]) {
                    parent[x] = parent[parent[x]];
                    x = parent[x];
                }
                return x;
            };

            const union = (u, v) => {
                const x = find(u);
                const y = find(v);

                // If both nodes have the same root, a cycle is detected
                if (x === y) {
                    return false;
                }

                // Union by rank: attach smaller tree under larger tree
                if (size[x] > size[y]) {
                    parent[y] = x;
                    size[x] += size[y];
                } else {
                    parent[x] = y;
                    size[y] += size[x];
                }

                return true;
            };

            for (const [u, v] of edges) {
                // If union returns false, it means adding this edge would create a cycle
                if (!union(u, v)) {
                    return [u, v];
                }
            }

            return [];
        }

        const edges = [[1, 2], [1, 3], [3, 4], [2, 4]];
        console.log(findRedundantConnection(edges));
    </script>
</body>

</html>
