<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palindrome Partitioning</title>
</head>

<body>
    <script>
        function partition(s) {
            const result = [];

            const isPalindrome = (str) => {
                let left = 0;
                let right = str.length - 1;

                while (left < right) {
                    if (str[left] !== str[right]) {
                        return false;
                    }
                    left++;
                    right--;
                }

                return true;
            }


            const backtrack = (i, cur) => {
                if (i === s.length) {
                    result.push([...cur]);
                    return;
                }

                for (let j = i; j < s.length; j++) {
                    const str = s.slice(i, j + 1);

                    if (isPalindrome(str)) {
                        cur.push(str);
                        backtrack(j + 1, cur);
                        cur.pop();
                    }
                }
            }

            backtrack(0, []);
            return result;
        }

        s = "aab";
        console.log(partition(s));
    </script>
</body>

</html>