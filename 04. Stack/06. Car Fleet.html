<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Fleet</title>
</head>

<body>
    <script>
        function carFleet(target, position, speed) {
            // Make pairs of position and speed
            let pair = position.map((p, i) => [p, speed[i]]);

            // Sort pairs by position in descending order
            pair.sort((a, b) => b[0] - a[0]);
            let stack = [];

            for (let [p, s] of pair) {
                // Calculate time, and push into stack
                stack.push((target - p) / s);

                if (stack.length >= 2 && stack[stack.length - 1] <= stack[stack.length - 2]) {
                    stack.pop();
                }
            }

            return stack.length;
        }

        target = 10, position = [4, 1, 0, 7], speed = [2, 2, 1, 1];
        console.log(carFleet(target, position, speed));
    </script>
</body>

</html>